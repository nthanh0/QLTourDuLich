@model QLTourDuLich.Models.Customer

@{
    ViewData["Title"] = "Chi Tiết Khách Hàng";
}

<h1>Chi Tiết Khách Hàng</h1>

<div class="card">
    <div class="card-body">
        <dl class="row">
            <dt class="col-sm-3">Mã Khách Hàng</dt>
            <dd class="col-sm-9">@Model.CustomerId</dd>
            
            <dt class="col-sm-3">Họ Tên</dt>
            <dd class="col-sm-9">@Model.FullName</dd>
            
            <dt class="col-sm-3">Email</dt>
            <dd class="col-sm-9">@Model.Email</dd>
            
            <dt class="col-sm-3">Điện Thoại</dt>
            <dd class="col-sm-9">@Model.Telephone</dd>
            
            <dt class="col-sm-3">Địa Chỉ</dt>
            <dd class="col-sm-9">@Model.Address</dd>
            
            <dt class="col-sm-3">Ngày Sinh</dt>
            <dd class="col-sm-9">@(Model.DateOfBirth.HasValue ? Model.DateOfBirth.Value.ToString("dd/MM/yyyy") : "")</dd>
            
            <dt class="col-sm-3">CMND/CCCD</dt>
            <dd class="col-sm-9">@Model.IdentityNum</dd>
            
            <dt class="col-sm-3"><strong>Tổng Chi Tiêu</strong></dt>
            <dd class="col-sm-9"><strong class="text-success">@(((decimal)ViewBag.TotalSpent).ToString("N0")) VNĐ</strong></dd>
            
            <dt class="col-sm-3"><strong>Hạng Thành Viên</strong></dt>
            <dd class="col-sm-9">
                @{
                    var rank = ViewBag.CustomerRank?.ToString() ?? "New";
                    var badgeClass = rank switch
                    {
                        "VIP" => "bg-danger",
                        "Gold" => "bg-warning text-dark",
                        "Silver" => "bg-secondary",
                        "Bronze" => "bg-info",
                        _ => "bg-light text-dark"
                    };
                }
                <span class="badge @badgeClass fs-6">@rank</span>
            </dd>
        </dl>
    </div>
</div>

<div class="mt-3">
    <a asp-action="Edit" asp-route-id="@Model.CustomerId" class="btn btn-warning">Chỉnh Sửa</a>
    <a asp-action="Index" class="btn btn-secondary">Quay lại</a>
</div>
